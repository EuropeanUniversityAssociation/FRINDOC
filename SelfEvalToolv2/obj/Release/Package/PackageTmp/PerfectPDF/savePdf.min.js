function savePdf(n,t,i,r){page.viewportSize={width:i,height:r};page.paperSize={format:"Letter",orientation:"portrait",margin:"1cm",footer:{height:"1cm",contents:phantom.callback(function(){return"<h3 style='text-align:center'>PDF Generated by Perfect PDF - Trial Edition - <a href='http://perfectpdf.net'>http://perfectpdf.net<\/a><\/h1>"})}};page.open(n,function(i){if(i!=="success")throw"Download of "+n+" did not succeed.  Status is: "+i;else window.setTimeout(function(){page.render(t);phantom.exit()},200)})}function loadCookies(n,t){while(n.length>0){var i=n.shift(),r=n.shift();phantom.addCookie({name:i,value:r,domain:t});console.log("Added cookie - '"+i+"':'"+r+"' (domain: "+t+")")}}function getDomain(n){var i=n.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),t=i[1];return t.indexOf(":")>0&&(t=t.substring(0,t.indexOf(":"))),t}function errorHandler(n,t,i){var r=[n+" ERROR: "+t];i&&i.length&&(r.push("TRACE:"),i.forEach(function(n){r.push(" -> "+(n.file||n.sourceURL)+": "+n.line+(n.function?" (in function "+n.function+")":""))}));console.error(r.join("\n"));phantom.exit(1)}var page=require("webpage").create(),system=require("system"),address,output,size;phantom.onError=function(n,t){console.error("Global error handler fired.");errorHandler("PHANTOM",n,t)};page.onError=function(n,t){console.log("In page error handler!");errorHandler("PAGE",n,t)};try{var url=system.args[1],outputFilename=system.args[2],viewportWidth=system.args[3],viewportHeight=system.args[4],domain=getDomain(url);loadCookies(system.args.slice(5));savePdf(url,outputFilename,viewportWidth,viewportHeight)}catch(ex){console.log(ex);errorHandler("GLOBAL",ex,null)}
/*
//# sourceMappingURL=savePdf.min.js.map
*/